(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{2409:function(e,t,o){},"43a3":function(e,t,o){"use strict";var r=o("2409"),a=o.n(r);a.a},"48f9":function(e,t,o){"use strict";var r=o("4f2f"),a=o.n(r);a.a},"4f2f":function(e,t,o){},"5cb6":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-layout",{ref:"layout",staticClass:"full-height",attrs:{view:"lHr lpR lFr"}},[o("menu-left"),o("q-page-container",[o("q-page",[o("router-view")],1)],1),o("modal-pdf",{attrs:{link:e.storeModalPdf.link,showModal:e.storeModalPdf.ativo,tituloRelatorio:e.storeModalPdf.titulo},on:{hide:function(t){return e.$store.commit("modalPdf/setAtivo",!1)}}})],1)},a=[],i=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("9523")),n=o.n(i),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-drawer",{attrs:{side:"left",elevated:"",behavior:"mobile",width:360},model:{value:e.mostraMenuLeft,callback:function(t){e.mostraMenuLeft=t},expression:"mostraMenuLeft"}},[o("q-scroll-area",{staticClass:"fit"},[o("q-list",{staticClass:"rounded-borders menuLeft",attrs:{bordered:""}},[o("q-expansion-item",{attrs:{group:"menuSuperior",icon:"perm_identity",label:e.getLogin}},[o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",link:""},nativeOn:{click:function(t){e.abreModalTrocaSenha=!e.abreModalTrocaSenha}}},[o("q-item-section",[e._v("Alterar Senha")])],1),o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",link:""},nativeOn:{click:function(t){return e.logout(t)}}},[o("q-item-section",[e._v("Sair")])],1)],1),o("q-separator"),o("q-item-label",{attrs:{header:""}},[e._v("Menu de Navegação")]),o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{link:"",to:{name:"dashboard"}}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{color:"primary",name:"dashboard"}})],1),o("q-item-section",[o("q-item-label",[e._v("Consultas")]),o("q-item-label",{attrs:{caption:""}},[e._v("Procurar documentos, imprimir Relatórios")])],1)],1),e.hasSistema?o("q-expansion-item",{attrs:{group:"menuLinks",icon:"settings",label:"Sistema"}},e._l(e.linksSistema,(function(t,r){return o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,attrs:{link:"",to:{name:t.rota}}},[o("q-item-section",[o("q-item-label",[e._v(e._s(t.titulo))]),""!==t.subtitulo?o("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.subTitulo))]):e._e()],1),""!==t.icone?o("q-item-section",{attrs:{side:"",top:""}},[o("q-icon",{attrs:{color:t.corIcone,name:t.icone}})],1):e._e()],1)})),1):e._e(),e.hasCadastro?o("q-expansion-item",{attrs:{group:"menuLinks",icon:"folder_shared",label:"Cadastro"}},e._l(e.linksCadastro,(function(t,r){return o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,attrs:{link:"",to:{name:t.rota}}},[o("q-item-section",[o("q-item-label",[e._v(e._s(t.titulo))]),""!==t.subtitulo?o("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.subTitulo))]):e._e()],1),""!==t.icone?o("q-item-section",{attrs:{side:"",top:""}},[o("q-icon",{attrs:{color:t.corIcone,name:t.icone}})],1):e._e()],1)})),1):e._e()],1)],1),o("q-dialog",{attrs:{"content-css":{minWidth:"50vw",minHeight:"50vh"}},model:{value:e.abreModalTrocaSenha,callback:function(t){e.abreModalTrocaSenha=t},expression:"abreModalTrocaSenha"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("div",{staticClass:"text-h6"},[e._v("Alterar Senha")]),o("q-btn",{directives:[{name:"close-dialog",rawName:"v-close-dialog"}],attrs:{icon:"close",flat:"",round:"",dense:"",disable:e.loadingVisible},on:{click:e.cancelarModal}})],1),o("q-card-section",[o("div",{staticClass:"layout-padding"},[e._v("\n          Digite a senha atual e a nova senha\n          "),o("form",{attrs:{id:"formAlterarSenha"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[o("q-input",{attrs:{hint:"Obrigatório",error:e.$v.form.senhaAtual.$error,"error-message":"Digite a senha atual",type:"password","stack-label":"",label:"Senha atual",autocomplete:"current-password"},on:{blur:function(t){return e.$v.form.senhaAtual.$touch()}},model:{value:e.form.senhaAtual,callback:function(t){e.$set(e.form,"senhaAtual",t)},expression:"form.senhaAtual"}}),o("q-input",{attrs:{hint:"Obrigatório",error:e.$v.form.senhaNova.$error,"error-message":"Digite a nova senha, minimo de 5 caracteres",type:"password","stack-label":"",label:"Nova senha",autocomplete:"new-passoword"},on:{blur:function(t){return e.$v.form.senhaNova.$touch()}},model:{value:e.form.senhaNova,callback:function(t){e.$set(e.form,"senhaNova",t)},expression:"form.senhaNova"}}),o("q-input",{attrs:{hint:"Obrigatório",error:e.$v.form.confirmaSenha.$error,"error-message":"As senhas novas devem ser iguais",type:"password","stack-label":"",label:"Repita a nova senha",autocomplete:"new-passoword"},on:{blur:function(t){return e.$v.form.confirmaSenha.$touch()}},model:{value:e.form.confirmaSenha,callback:function(t){e.$set(e.form,"confirmaSenha",t)},expression:"form.confirmaSenha"}})],1)]),o("br"),o("div",{staticClass:"row justify-center botoes"},[o("q-btn",{attrs:{color:"primary",disable:e.loadingVisible,type:"submit",form:"formAlterarSenha"}},[e._v("Alterar")]),o("q-btn",{staticClass:"text-black",attrs:{type:"reset",disable:e.loadingVisible,color:"light",form:"formAlterarSenha"},on:{click:e.cancelarModal}},[e._v("Cancelar")])],1)]),o("q-inner-loading",{attrs:{showing:e.loadingVisible}},[o("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1)],1)],1)},c=[],l=o("2f62"),u=o("b5ae"),m=o("ca9a"),f=o("5785");function d(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?d(Object(o),!0).forEach((function(t){n()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var h={name:"MenuLeft",components:{},props:["quasar"],data:function(){return{mostraMenuLeft:!1,abreModalTrocaSenha:!1,abreModalTrocaEmpresa:!1,form:{senhaAtual:"",senhaNova:"",confirmaSenha:""},loadingVisible:!1,trocaEmpresa:"",optionsEmpresa:[]}},validations:{form:{senhaAtual:{required:u["required"],minLength:Object(u["minLength"])(5)},senhaNova:{required:u["required"],minLength:Object(u["minLength"])(5)},confirmaSenha:{sameAsPassword:Object(u["sameAs"])("senhaNova")}}},methods:{logout:function(){var e=this;console.log("teste"),console.log(this.getGrupoLogin),this.$q.loading.show({message:"Saindo do sistema",messageColor:"white",spinnerSize:250,spinnerColor:"white"}),f["a"].deslogar(this.getLogin).then((function(t){e.$q.loading.hide(),200===t.status&&(e.$store.commit("login/removeToken",""),e.$store.commit("login/setLogin",""),e.$store.commit("login/setSessaoInvalida",!1),e.$router.push("/"))}))},submit:function(){var e=this;this.$v.form.$touch(),this.$v.form.$error?this.$q.dialog({title:"Atenção",message:"Todos os campos são obrigatórios, e senha mínima de 5 caracteres.",buttons:["OK"]}):(this.loadingVisible=!0,m["a"].alteraSenha(this.form.senhaAtual,this.form.senhaNova,this.getGrupoLogin).then((function(t){e.loadingVisible=!1,202===t.status&&(e.$q.notify({type:"positive",message:"Senha Alterada com sucesso.",timeout:5e3}),e.cancelarModal())})))},cancelarModal:function(){this.form.senhaAtual="",this.form.senhaNova="",this.form.confirmaSenha="",this.$v.form.$reset(),this.loadingVisible=!1,this.abreModalTrocaSenha=!1,this.abreModalTrocaEmpresa=!1}},created:function(){var e=this;this.$root.$on("toggleLeft",(function(){e.mostraMenuLeft=!e.mostraMenuLeft})),this.$root.$on("controlaMenuLeft",(function(t){e.mostraMenuLeft=t}))},mounted:function(){this.links=this.getLinks,this.$q.platform.is.mobile?this.mostraMenuLeft=!1:this.mostraMenuLeft=!0},computed:p(p({},Object(l["b"])({getLogin:"login/getLogin",getPermissoes:"login/getPermissoes"})),{},{hasSistema:function(){for(var e in this.getPermissoes)if("SISTEMA"===this.getPermissoes[e].categoriaModulo&&this.getPermissoes[e].abrir)return!0;return!1},hasCadastro:function(){for(var e in this.getPermissoes)if("CADASTROS"===this.getPermissoes[e].categoriaModulo&&this.getPermissoes[e].abrir)return!0;return!1},linksSistema:function(){var e=this,t=[{rota:"grupoUsuario",titulo:"Grupos de Usuários",subTitulo:"Organiza por grupo e cria permissões",icone:"supervisor_account",corIcone:"primary"},{rota:"usuario",titulo:"Usuários",subTitulo:"Cadastra usuários do sistema e gerencia acessos às empresas",icone:"person",corIcone:"primary"}];return t.filter((function(t){return e.getPermissoes[t.rota].abrir}))},linksCadastro:function(){var e=this,t=[{rota:"tipoDocumento",titulo:"Tipos de Documentos",icone:"fas fa-file-contract",corIcone:"primary"},{rota:"tipoCorrespondencia",titulo:"Tipos de Correspondencias",icone:"fas fa-envelope",corIcone:"primary"},{rota:"tipoCobranca",titulo:"Tipos de Cobranças",icone:"attach_money",corIcone:"primary"},{rota:"endereco",titulo:"Endereços",icone:"fas fa-map-marked-alt",corIcone:"primary"},{rota:"setor",titulo:"Setores Internos",icone:"work_outline",corIcone:"primary"},{rota:"protocoloEntrada",titulo:"Protocolo de Entrada",icone:"fas fa-file-alt",corIcone:"primary"},{rota:"rota",titulo:"Rotas",icone:"fas fa-map-marked-alt",corIcone:"primary"},{rota:"malote",titulo:"Malotes",icone:"move_to_inbox",corIcone:"primary"},{rota:"correspondencia",titulo:"Correspondencias",icone:"mail_outline",corIcone:"primary"}];return t.filter((function(t){return e.getPermissoes[t.rota].abrir}))}})},b=h,g=(o("43a3"),o("2877")),v=Object(g["a"])(b,s,c,!1,null,"17fd487c",null),q=v.exports,y=o("fb42");function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){n()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var w={name:"LayoutRoot",components:{menuLeft:q,ModalPdf:y["a"]},data:function(){return{mostraBotaoMenuRight:!0,timer:null,isConnected:!1,socketMessage:"",modalRelatorio:!1,linkRelatorio:"",tituloRelatorio:""}},computed:k({mostraMenuRight:{get:function(){return this.$store.state.menuRight.mostraMenuRight},set:function(e){this.$store.commit("menuRight/setMostraMenuRight",e)}}},Object(l["b"])({getUserId:"login/getUserId",storeModalPdf:"modalPdf/getModalPdf"})),sockets:{connect:function(){this.isConnected=!0},disconnect:function(){this.isConnected=!1},messageChannel:function(e){},relatorioGerado:function(e){var t=this;console.log(e),this.getUserId===e.usuarioLogado&&this.$q.dialog({title:"O relatório: ".concat(e.tituloRelatorio," esta pronto!"),message:"Deseja abrir agora? Enviamos uma cópia para o email informado.",ok:{},cancel:{},persistent:!0}).onOk((function(){t.linkRelatorio="http://10.4.231.15"+e.linkRelatorio,t.tituloRelatorio=e.tituloRelatorio,t.modalRelatorio=!0}))}},methods:{pingServer:function(){this.$socket.emit("pingServer","PING!")}},created:function(){}},S=w,M=(o("48f9"),Object(g["a"])(S,r,a,!1,null,null,null));t["default"]=M.exports}}]);
