(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2c6f":function(e,o,r){"use strict";r.r(o);var n=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("div",[r("bodyTabs",{attrs:{titulo:"Cadastro de Correspondências"}},[r("template",{slot:"tabHeader"},[r("q-tab",{attrs:{name:"tab-1",icon:"folder_shared",label:"Cadastro"}})],1),r("template",{slot:"tabPanel"},[r("q-tab-panel",{attrs:{name:"tab-1"}},[r("form",{on:{submit:function(o){return o.preventDefault(),e.salvarAlterar(o)}}},[r("div",{staticClass:"row barraBotoes"},[r("div",{staticClass:"col-md-6 linhaBotoes"},[e.possoGravarCorrespondencia?r("q-btn",{attrs:{small:"",type:"reset",icon:"add"},on:{click:e.reset}},[e._v("Novo")]):e._e(),!e.correspondencia.correspondencia&&e.possoGravarCorrespondencia?r("q-btn",{attrs:{small:"",type:"submit",icon:"save"}},[e._v("Gravar")]):e._e(),e.correspondencia.correspondencia&&e.possoAlterarCorrespondencia?r("q-btn",{attrs:{small:"",type:"submit",icon:"save"}},[e._v("Alterar")]):e._e(),e.possoExcluirCorrespondencia?r("q-btn",{attrs:{small:"",type:"button",icon:"delete"},on:{click:e.excluir}},[e._v("Excluir")]):e._e()],1),r("div",{staticClass:"col-md-6"},[e.correspondencia.correspondencia?r("q-btn",{attrs:{small:"",type:"button",icon:"autorenew"},on:{click:e.preparaDocSemelhante}},[e._v("Gravar Doc Semelhante")]):e._e()],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[r("q-field",{staticClass:"form-input",attrs:{label:"Nº","stack-label":""}},[e._v("\n                "+e._s(e.correspondencia.anoCadastro+"-"+e.correspondencia.protocolo)+"\n              ")])],1),r("div",{staticClass:"col-md-3"},[r("q-input",{staticClass:"form-input",attrs:{label:"Data do cadastro",hint:"Obrigatório",error:e.$v.correspondencia.dataCadastro.$error,"error-message":"Obrigatório",autocomplete:"off",type:"date",name:"data"},model:{value:e.correspondencia.dataCadastro,callback:function(o){e.$set(e.correspondencia,"dataCadastro",o)},expression:"correspondencia.dataCadastro"}})],1),r("div",{staticClass:"col-md-4"},[r("form-select",{attrs:{error:e.$v.correspondencia.tipoDocumento.$error,hint:"Obrigatório",options:e.optionsTipoDocumento,"error-message":"Obrigatório",classe:"form-input",label:"Tipo de Documento",required:""},on:{input:function(o){return e.$v.correspondencia.tipoDocumento.$touch()}},model:{value:e.correspondencia.tipoDocumento,callback:function(o){e.$set(e.correspondencia,"tipoDocumento",o)},expression:"correspondencia.tipoDocumento"}}),r("q-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.optionsLoading,expression:"optionsLoading"}],attrs:{indeterminate:""}})],1),r("div",{staticClass:"col-md-3"},[r("q-input",{staticClass:"form-input",attrs:{label:"Número",hint:"Obrigatório",error:e.$v.correspondencia.numeroDocumento.$error,"error-message":"Obrigatório",type:"text",name:"numero"},on:{input:function(o){return e.$v.correspondencia.numeroDocumento.$touch()}},model:{value:e.correspondencia.numeroDocumento,callback:function(o){e.$set(e.correspondencia,"numeroDocumento",o)},expression:"correspondencia.numeroDocumento"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[r("q-input",{staticClass:"form-input",attrs:{label:"Codigo de Rastreio",autocomplete:"on",type:"text",name:"text"},model:{value:e.correspondencia.codigoRastreio,callback:function(o){e.$set(e.correspondencia,"codigoRastreio",o)},expression:"correspondencia.codigoRastreio"}})],1),r("div",{staticClass:"col-md-7"},[r("form-select",{attrs:{error:e.$v.correspondencia.setor.$error,hint:"Obrigatório",options:e.optionsSetor,"error-message":"Obrigatório",classe:"form-input",label:"Origem",required:""},on:{input:function(o){return e.$v.correspondencia.setor.$touch()}},model:{value:e.correspondencia.setor,callback:function(o){e.$set(e.correspondencia,"setor",o)},expression:"correspondencia.setor"}}),r("q-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.optionsLoading,expression:"optionsLoading"}],attrs:{indeterminate:""}})],1),r("div",{staticClass:"col-md-3"},[r("q-input",{staticClass:"form-input",attrs:{label:"Remetente",autocomplete:"on",type:"text",name:"name"},model:{value:e.correspondencia.remetente,callback:function(o){e.$set(e.correspondencia,"remetente",o)},expression:"correspondencia.remetente"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[r("q-field",{staticClass:"form-input",attrs:{label:"É endereço cadastrado?","stack-label":"",borderless:""}},[r("q-option-group",{attrs:{inline:"",options:[{label:"Sim",value:"1"},{label:"Não",value:"0"}],color:"primary"},model:{value:e.correspondencia.enderecoCadastrado,callback:function(o){e.$set(e.correspondencia,"enderecoCadastrado",o)},expression:"correspondencia.enderecoCadastrado"}})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.correspondencia.enderecoCadastrado,expression:"correspondencia.enderecoCadastrado === '1'"}],staticClass:"col-md-8"},[r("form-select",{attrs:{label:"Destino",hint:"Obrigatório",error:e.$v.correspondencia.destino.$error,"error-message":"Obrigatório",options:e.optionsEndereco,classe:"form-input",required:""},on:{input:e.procurarEnderecoCadastrado},model:{value:e.correspondencia.destino,callback:function(o){e.$set(e.correspondencia,"destino",o)},expression:"correspondencia.destino"}}),r("q-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.optionsLoading,expression:"optionsLoading"}],attrs:{indeterminate:""}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"0"===e.correspondencia.enderecoCadastrado,expression:"correspondencia.enderecoCadastrado === '0'"}],staticClass:"col-md-8"},[r("q-input",{staticClass:"form-input",attrs:{label:"Destino",hint:"Obrigatório",error:e.$v.correspondencia.destino.$error,"error-message":"Obrigatório",autocomplete:"on",type:"text",name:"destino"},model:{value:e.correspondencia.destino,callback:function(o){e.$set(e.correspondencia,"destino",o)},expression:"correspondencia.destino"}})],1)]),r("q-expansion-item",{attrs:{label:"Endereço","default-opened":""}},[r("div",{staticClass:"panel-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("q-input",{directives:[{name:"mask",rawName:"v-mask",value:"99999-999",expression:"'99999-999'"}],staticClass:"form-input",attrs:{label:"Cep",autocomplete:"off",type:"text",placeholder:"00000-000",name:"cep"},on:{input:e.procuraCep},model:{value:e.correspondencia.cep,callback:function(o){e.$set(e.correspondencia,"cep",o)},expression:"correspondencia.cep"}})],1),r("div",{staticClass:"col-md-7"},[r("q-input",{staticClass:"form-input",attrs:{label:"Logradouro",autocomplete:"off",type:"text",name:"logradouro"},model:{value:e.correspondencia.logradouro,callback:function(o){e.$set(e.correspondencia,"logradouro",o)},expression:"correspondencia.logradouro"}})],1),r("div",{staticClass:"col-md-2"},[r("q-input",{staticClass:"form-input",attrs:{label:"Número",autocomplete:"off",type:"text",name:"numero"},model:{value:e.correspondencia.numero,callback:function(o){e.$set(e.correspondencia,"numero",o)},expression:"correspondencia.numero"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"},[r("q-input",{staticClass:"form-input",attrs:{label:"Complemento",autocomplete:"off",type:"text",name:"complemento"},model:{value:e.correspondencia.complemento,callback:function(o){e.$set(e.correspondencia,"complemento",o)},expression:"correspondencia.complemento"}})],1),r("div",{staticClass:"col-md-4"},[r("q-input",{staticClass:"form-input",attrs:{label:"Referência",autocomplete:"off",type:"text",name:"referencia"},model:{value:e.correspondencia.referencia,callback:function(o){e.$set(e.correspondencia,"referencia",o)},expression:"correspondencia.referencia"}})],1),r("div",{staticClass:"col-md-4"},[r("q-input",{staticClass:"form-input",attrs:{label:"Bairro",autocomplete:"off",type:"text",name:"bairro"},model:{value:e.correspondencia.bairro,callback:function(o){e.$set(e.correspondencia,"bairro",o)},expression:"correspondencia.bairro"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("q-input",{staticClass:"form-input",attrs:{label:"Cidade",autocomplete:"off",type:"text",name:"cidade"},model:{value:e.correspondencia.cidade,callback:function(o){e.$set(e.correspondencia,"cidade",o)},expression:"correspondencia.cidade"}})],1),r("div",{staticClass:"col-md-6"},[r("form-select",{attrs:{options:e.optionsEstados,classe:"form-input",label:"Estado",required:""},model:{value:e.correspondencia.uf,callback:function(o){e.$set(e.correspondencia,"uf",o)},expression:"correspondencia.uf"}})],1)])]),r("q-inner-loading",{attrs:{visible:e.cepLoading}},[r("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"},[r("form-select",{attrs:{label:"Tipo de Correspondência",error:e.$v.correspondencia.tipoCorrespondencia.$error,"error-message":"Obrigatório",hint:"Obrigatório",options:e.optionsTipoCorrespondencia,classe:"form-input",required:""},on:{input:e.somaTipoCorrespondencia},model:{value:e.correspondencia.tipoCorrespondencia,callback:function(o){e.$set(e.correspondencia,"tipoCorrespondencia",o)},expression:"correspondencia.tipoCorrespondencia"}}),r("q-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.optionsLoading,expression:"optionsLoading"}],attrs:{indeterminate:""}})],1),r("div",{staticClass:"col-md-4"},[r("form-select",{attrs:{label:"Tipo de Cobrança",options:e.optionsTipoCobranca,classe:"form-input",required:""},on:{input:e.somaTipoCobranca},model:{value:e.correspondencia.tipoCobranca,callback:function(o){e.$set(e.correspondencia,"tipoCobranca",o)},expression:"correspondencia.tipoCobranca"}}),r("q-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.optionsLoading,expression:"optionsLoading"}],attrs:{indeterminate:""}})],1),r("div",{staticClass:"col-md-4"},[r("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],staticClass:"form-input",attrs:{label:"Valor Total",hint:"Obrigatório",error:e.$v.correspondencia.valorTotal.$error,"error-message":"Obrigatório",autocomplete:"off",type:"tel",name:"valor",prefix:"R$","numeric-keyboard-toggle":""},on:{input:function(o){return e.$v.correspondencia.valorTotal.$touch()}},model:{value:e.correspondencia.valorTotal,callback:function(o){e.$set(e.correspondencia,"valorTotal",o)},expression:"correspondencia.valorTotal"}})],1)])],1)])],1)],2),r("lista-de-registros")],1)},a=[],t=(r("f751"),r("c5f6"),r("bbff")),i=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("lista-de-registros",{ref:"listaDeRegistros",attrs:{labelHeader:"Correspondências",tamanho:500,placeholder:"Rastreio ou Protocolo"},on:{atualizaLista:e.atualizaLista}},[r("template",{slot:"qItem"},e._l(e.getRegistros,(function(o,n){return r("q-item",{key:n,staticClass:"item-lista",class:n%2?"bg-blue-grey-1":"bg-blue-grey-2",attrs:{multiline:"",item:"",to:{name:"alterarCorrespondencia",params:{id:o.correspondencia}},exact:""}},[r("q-item-section",{attrs:{top:""}},[r("q-item-label",[e._v(e._s(o.codigoRastreio))]),r("q-item-label",[e._v(e._s(o.setorDescricao)+" >>> "+e._s(o.destino))]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(o.tipoDocumentoDescricao)+" "+e._s(o.numeroDocumento))])],1),r("q-item-section",{attrs:{side:"",top:""}},[r("q-item-label",[e._v("Prot: "+e._s(o.anoCadastro)+" - "+e._s(o.protocolo))])],1)],1)})),1)],2)},s=[],c=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("9523")),d=r.n(c),p=r("2f62"),l=(r("6b54"),r("2397"),r("970b")),u=r.n(l),m=r("5bc3"),f=r.n(m),v=r("ed6d"),h=r.n(v),b=r("6b58"),C=r.n(b),g=r("36c6"),$=r.n(g),q=r("5c12");function x(e){var o=y();return function(){var r,n=$()(e);if(o){var a=$()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return C()(this,r)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){h()(r,e);var o=x(r);function r(){return u()(this,r),o.apply(this,arguments)}return f()(r,null,[{key:"procura",value:function(e,o,r){return this.get("correspondencias",{params:{busca:e,inicio:o,fim:r}})}},{key:"grava",value:function(e){return this.post("correspondencias/correspondencia",e)}},{key:"altera",value:function(e){return this.put("correspondencias/correspondencia/".concat(e.correspondencia),e)}},{key:"apaga",value:function(e){return this.delete("correspondencias/correspondencia/".concat(e))}},{key:"seleciona",value:function(e){return this.get("correspondencias/correspondencia/".concat(e))}},{key:"getOptions",value:function(){return this.get("correspondencias/options")}}]),r}(q["a"]),D=w,T=r("dbcf"),O=r("0da6");function k(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?k(Object(r),!0).forEach((function(o){d()(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}var L={name:"ListaCorrespondenciaes",components:{ListaDeRegistros:O["a"]},data:function(){return{}},computed:E({},Object(p["b"])({getRegistros:"listaDeRegistros/getRegistros"})),methods:{atualizaLista:function(e){T["a"].atualizaLista({service:D,semRegistros:[{login:"Sem registros encontrados",nome:""}],self:this,done:e})}}},R=L,_=r("2877"),P=Object(_["a"])(R,i,s,!1,null,null,null),N=P.exports,S=r("b5ae"),A=r("5a0c"),j=r.n(A),z=function e(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u()(this,e),this.correspondencia=o.correspondencia||"",this.protocolo=o.protocolo||"",this.anoCadastro=o.anoCadastro||"",this.tipoDocumento=o.tipoDocumento||"",this.numeroDocumento=o.numeroDocumento||"",this.setor=o.setor||"",this.remetente=o.remetente||"",this.destino=o.destino||"",this.enderecoCadastrado=o.enderecoCadastrado||"0",this.usuarioCriador=o.usuarioCriador||"",this.tipoCorrespondencia=o.tipoCorrespondencia||"",this.tipoCobranca=o.tipoCobranca||null,this.valorTC=o.valorTC||"",this.codigoRastreio=o.codigoRastreio||"",this.valorTotal=o.valorTotal||0,this.dataCadastro=o.dataCadastro||j()().format("YYYY-MM-DD"),this.bairro=o.bairro||"",this.cep=o.cep||"",this.cidade=o.cidade||"",this.complemento=o.complemento||"",this.logradouro=o.logradouro||"",this.numero=o.numero||"",this.referencia=o.referencia||"",this.uf=o.uf||""},G=r("de64"),B=r("99b66"),V=r("a280"),Y=r("8f90"),H=r("8865"),J=r.n(H),M=r("35ea"),U=r("e54c"),F=r("540f"),I=r("fe44"),K=r("aa8c"),Q=r("d070"),W=r("99ba"),X=r("77cc"),Z={name:"Cadastro-de-Correspondencias",components:{ListaDeRegistros:N,BodyTabs:t["a"],formSelect:X["a"]},directives:{mask:J.a,money:M["a"]},data:function(){return{correspondencia:new z,tipoDocumento:new F["a"],tipoCorrespondencia:new K["a"],tipoCobranca:new W["a"],endereco:new I["a"],setor:new Q["a"],errorDescricao:"Preencha a descrição",possoAlterarCorrespondencia:!1,possoExcluirCorrespondencia:!1,optionsTipoDocumento:[],enderecoCadastrado:!0,optionsEndereco:[],optionsSetor:[],optionsTipoCorrespondencia:[],optionsTipoCobranca:[],optionsLoading:!1,optionsEstados:Y["a"],cepLoading:!1,valorTipoCorrespondencia:0,valorTipoCobranca:0,money:{decimal:".",thousands:"",prefix:"",suffix:"",precision:2,masked:!0},timer:""}},validations:{correspondencia:{tipoDocumento:{required:S["required"]},numeroDocumento:{required:S["required"]},valorTotal:{required:S["required"]},dataCadastro:{required:S["required"]},destino:{required:S["required"]},setor:{required:S["required"]},tipoCorrespondencia:{required:S["required"]}}},methods:{preparaDocSemelhante:function(){this.$v.correspondencia.$reset(),this.$router.push({name:"correspondencia"}),this.possoAlterarCorrespondencia=!1,this.possoExcluirCorrespondencia=!1;var e=new z(this.correspondencia);e.protocolo="",e.correspondencia="",e.destino="",e.codigoRastreio="",e.usuarioCriador="",e.usuarioAlterador="",this.correspondencia=new z(e)},somaTipoCorrespondencia:function(){var e=this;this.$v.correspondencia.tipoCorrespondencia.$touch(),this.valorTipoCorrespondencia=Number(this.optionsTipoCorrespondencia.filter((function(o){return o.value===e.correspondencia.tipoCorrespondencia}))[0]["valor"]),this.somaValores()},somaTipoCobranca:function(){var e=this;this.valorTipoCobranca=Number(this.optionsTipoCobranca.filter((function(o){return o.value===e.correspondencia.tipoCobranca}))[0]["valor"]),this.somaValores()},somaValores:function(){this.correspondencia.valorTotal=(this.valorTipoCorrespondencia+this.valorTipoCobranca).toFixed(2)},toogleEnderecoCadastrado:function(){this.correspondencia.enderecoCadastrado=!this.correspondencia.enderecoCadastrado,!1===this.correspondencia.enderecoCadastrado?(this.correspondencia.logradouro="",this.correspondencia.numero="",this.correspondencia.complemento="",this.correspondencia.bairro="",this.correspondencia.cidade="",this.correspondencia.uf="",this.correspondencia.cep="",this.correspondencia.referencia=""):this.correspondencia.destino=""},carregaEndereco:function(e){this.correspondencia.logradouro=e.logradouro,this.correspondencia.numero=e.numero,this.correspondencia.complemento=e.complemento,this.correspondencia.bairro=e.bairro,this.correspondencia.cidade=e.cidade,this.correspondencia.uf=e.uf,this.correspondencia.cep=e.cep,this.correspondencia.referencia=e.referencia},procuraCep:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){9===e.correspondencia.cep.length&&(e.cepLoading=!0,e.correspondencia.logradouro="",e.correspondencia.bairro="",e.correspondencia.cidade="",e.correspondencia.uf="",V["a"].procura(e.correspondencia.cep,e.cepLoading).then((function(o){var r=o;e.correspondencia.logradouro=r.logradouro,e.correspondencia.bairro=r.bairro,e.correspondencia.cidade=r.localidade,e.correspondencia.uf=r.uf,e.cepLoading=!1})).catch((function(o){e.cepLoading=!1,console.log(o),e.$q.notify({type:"warning",message:"Cep não encontrado",timeout:2e3})})))}),300)},parseEnderecos:function(){return this.optionsEndereco.map((function(e){return{label:e.label,value:e.value}}))},procurarEnderecoCadastrado:function(){var e=this;this.$v.correspondencia.destino.$touch(),setTimeout((function(){console.log("selecionei quartel"),U["a"].buscaEnderecoPorCodigo(e.correspondencia.destino).then((function(o){console.log("peguei o correspondencia com sucesso"),e.carregaEndereco(o.data[0])}))}),300)},procuraEndereco:function(e){this.$v.correspondencia.origem.$touch(),console.log(e),console.log("procurando no select")},reset:function(){this.$v.correspondencia.$reset(),this.correspondencia=new z,this.$router.push({name:"correspondencia"}),this.possoAlterarCorrespondencia=!1,this.possoExcluirCorrespondencia=!1},carrega:function(e){var o=this;console.log("vou carregar o correspondencia"),this.$q.loading.show({message:"Localizando o registro",messageColor:"white",spinnerSize:250,spinnerColor:"white"}),D.seleciona(e).then((function(e){o.$q.loading.hide(),console.log("peguei o correspondencia com sucesso"),o.correspondencia=Object.assign({},o.correspondencia,e.data),o.$root.$emit("alteraUnicoRegistro",o.correspondencia),o.confereAlterarExcluir()}))},salvarAlterar:function(){var e=this;this.$q.loading.show({message:"Processando sua requisição",messageColor:"white",spinnerSize:250,spinnerColor:"white"}),clearTimeout(this.timer),this.timer=setTimeout((function(){if(e.$v.correspondencia.$touch(),e.$v.correspondencia.$error)return e.$q.loading.hide(),void e.$q.dialog({title:"Atenção",message:"Alguns campos precisam ser corrigidos."});e.correspondencia.correspondencia&&e.possoAlterarCorrespondencia?(console.log("estou alterando o form"),D.altera(e.correspondencia).then((function(o){e.$q.loading.hide(),console.log("correspondencia alterado com sucesso");var r=e.optionsTipoDocumento.filter((function(o){return o.value===e.correspondencia.tipoDocumento})),n=e.optionsSetor.filter((function(o){return o.value===e.correspondencia.setor}));e.correspondencia.tipoDocumentoDescricao=r[0].label,e.correspondencia.setorDescricao=n[0].label,e.$root.$emit("alteraUnicoRegistro",e.correspondencia),e.$q.notify({type:"positive",message:"Correspondência alterada com sucesso.",timeout:5e3})}))):!e.correspondencia.correspondencia&&e.possoGravarCorrespondencia?D.grava(e.correspondencia).then((function(o){console.log("correspondencia criado com sucesso"),e.correspondencia.correspondencia=o.data.correspondencia.correspondencia,e.correspondencia.usuarioCriador=o.data.correspondencia.usuarioCriador,e.$router.push("/correspondencias/correspondencia/"+o.data.correspondencia.correspondencia),e.$q.notify({type:"positive",message:"Correspondência criada com sucesso.",timeout:5e3});var r=e.optionsTipoDocumento.filter((function(o){return o.value===e.correspondencia.tipoDocumento}));e.correspondencia.tipoDocumentoDescricao=r[0].label;var n=e.optionsTipoDocumento.filter((function(o){return o.value===e.correspondencia.setor}));e.correspondencia.setorDescricao=n[0].label,e.$root.$emit("adicionaRegistroNaLista",e.correspondencia),e.confereAlterarExcluir()})):B["a"].semPermissao()}),2e3)},excluir:function(){var e=this;this.possoExcluirCorrespondencia?this.$q.dialog({title:"Tem certeza?",message:"Ao confirmar esta operação, não poderá desfazer.",ok:"Sim, excluir",cancel:"Cancelar"}).onOk((function(){e.$q.loading.show({message:"Processando sua requisição",messageColor:"white",spinnerSize:250,spinnerColor:"white"}),D.apaga(e.correspondencia.correspondencia).then((function(o){e.$q.loading.hide(),console.log("correspondencia removido com sucesso"),e.$q.notify({type:"negative",message:"Correspondência removida com sucesso.",timeout:5e3}),e.$root.$emit("removeRegistro",e.correspondencia.correspondencia),e.reset()}))})).catch((function(){})):B["a"].semPermissao()},confereAlterarExcluir:function(){this.possoAlterarCorrespondencia=G["a"].alterar("correspondencia",this.correspondencia.usuarioCriador),this.possoExcluirCorrespondencia=G["a"].excluir("correspondencia",this.correspondencia.usuarioCriador)}},props:{id:{}},watch:{"$route.params.id":{handler:function(e){e&&this.carrega(e)},deep:!0,immediate:!0}},computed:{possoGravarCorrespondencia:function(){return G["a"].gravar("correspondencia")}},mounted:function(){var e=this;this.optionsLoading=!0,D.getOptions().then((function(o){e.optionsLoading=!1,e.optionsTipoDocumento=e.tipoDocumento.setOptions(o.data.tipoDocumento),e.optionsEndereco=e.endereco.setOptions(o.data.endereco),e.optionsSetor=e.setor.setOptions(o.data.setor),e.optionsTipoCorrespondencia=e.tipoCorrespondencia.setOptions(o.data.tipoCorrespondencia),e.optionsTipoCobranca=e.tipoCobranca.setOptions(o.data.tipoCobranca)}))}},ee=Z,oe=Object(_["a"])(ee,n,a,!1,null,null,null);o["default"]=oe.exports}}]);